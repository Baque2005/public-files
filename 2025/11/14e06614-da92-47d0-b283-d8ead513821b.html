<!DOCTYPE html>
<html lang="es">
<head>
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    html, body {
      width: 100vw;
      height: 100vh;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    body {
      min-height: 100vh;
      min-width: 100vw;
      margin: 0;
      padding: 0;
      overflow: hidden;
      position: relative;
      background: #000;
    }
    .fondo-img {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      z-index: 0;
      pointer-events: none;
      user-select: none;
    }
    .estrellas-superior {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 50vh;
      z-index: 1;
      pointer-events: none;
      user-select: none;
    }
    .shooting-stars {
      position: absolute;
      top: 0;
      left: 0;
      width: 100vw;
      height: 50vh;
      pointer-events: none;
      z-index: 2;
    }
    .shooting-star {
      position: absolute;
      width: 4px;
      height: 4px;
      background: #fff;
      border-radius: 50%;
      box-shadow: 0 0 6px 2px rgba(255,255,255,0.8);
      opacity: 0;
      animation: shootingStar 3s linear infinite;
    }
    .shooting-star::before {
      content: '';
      position: absolute;
      top: 50%;
      right: 0;
      transform: translateY(-50%);
      width: 0;
      height: 2px;
      background: linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%);
      animation: shootingStarTail 3s linear infinite;
    }
    /* Más estrellas fugaces */
    .shooting-star:nth-child(9) { top: 10%; left: -10%; animation-delay: 1.5s; animation-duration: 2.6s; }
    .shooting-star:nth-child(10) { top: 20%; left: -10%; animation-delay: 3.5s; animation-duration: 2.9s; }
    .shooting-star:nth-child(11) { top: 30%; left: -10%; animation-delay: 5.5s; animation-duration: 3.1s; }
    .shooting-star:nth-child(12) { top: 40%; left: -10%; animation-delay: 7.5s; animation-duration: 2.8s; }
    .shooting-star:nth-child(13) { top: 50%; left: -10%; animation-delay: 9.5s; animation-duration: 3.2s; }
    .shooting-star:nth-child(14) { top: 12%; left: -10%; animation-delay: 11.5s; animation-duration: 2.7s; }
    .shooting-star:nth-child(15) { top: 38%; left: -10%; animation-delay: 13.5s; animation-duration: 3.3s; }
    .shooting-star:nth-child(16) { top: 48%; left: -10%; animation-delay: 15.5s; animation-duration: 2.5s; }
    /* Estrellas estáticas que prenden y apagan */
    .star-static {
      position: absolute;
      width: 6px;
      height: 6px;
      background: #fff;
      border-radius: 50%;
      box-shadow: 0 0 12px 4px #fff;
      opacity: 0.6;
      animation: starBlink var(--blink-duration,2.5s) infinite;
      z-index: 3;
    }
    /* Distribución y animación aleatoria */
    .star-static.s1 { top: 8%; left: 12%; animation-delay: 0.2s; --blink-duration:2.2s; }
    .star-static.s2 { top: 18%; left: 22%; animation-delay: 0.8s; --blink-duration:2.8s; }
    .star-static.s3 { top: 28%; left: 32%; animation-delay: 1.2s; --blink-duration:2.1s; }
    .star-static.s4 { top: 38%; left: 42%; animation-delay: 1.8s; --blink-duration:2.7s; }
    .star-static.s5 { top: 48%; left: 52%; animation-delay: 2.2s; --blink-duration:2.3s; }
    .star-static.s6 { top: 12%; left: 62%; animation-delay: 0.5s; --blink-duration:2.9s; }
    .star-static.s7 { top: 22%; left: 72%; animation-delay: 1.1s; --blink-duration:2.4s; }
    .star-static.s8 { top: 32%; left: 82%; animation-delay: 1.7s; --blink-duration:2.6s; }
    .star-static.s9 { top: 42%; left: 92%; animation-delay: 2.3s; --blink-duration:2.0s; }
    .star-static.s10 { top: 15%; left: 85%; animation-delay: 1.4s; --blink-duration:2.7s; }
    .star-static.s11 { top: 5%; left: 30%; animation-delay: 0.6s; --blink-duration:2.3s; }
    .star-static.s12 { top: 10%; left: 55%; animation-delay: 1.9s; --blink-duration:2.8s; }
    .star-static.s13 { top: 20%; left: 40%; animation-delay: 1.3s; --blink-duration:2.2s; }
    .star-static.s14 { top: 35%; left: 60%; animation-delay: 2.1s; --blink-duration:2.5s; }
    .star-static.s15 { top: 45%; left: 75%; animation-delay: 0.7s; --blink-duration:2.6s; }
    .star-static.s16 { top: 25%; left: 10%; animation-delay: 1.5s; --blink-duration:2.4s; }
    .star-static.s17 { top: 40%; left: 20%; animation-delay: 2.0s; --blink-duration:2.7s; }
    .star-static.s18 { top: 30%; left: 90%; animation-delay: 1.8s; --blink-duration:2.1s; }
    .star-static.s19 { top: 12%; left: 80%; animation-delay: 0.9s; --blink-duration:2.9s; }
    .star-static.s20 { top: 48%; left: 35%; animation-delay: 2.5s; --blink-duration:2.3s; }
    @keyframes starBlink {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 1; }
    }
    @keyframes shootingStar {
      0% { opacity: 0; transform: translateX(0) translateY(0) rotate(45deg); }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { opacity: 0; transform: translateX(120vw) translateY(25vh) rotate(10deg); }
    }
    @keyframes shootingStarTail {
      0% { width: 0; }
      30% { width: 100px; }
      100% { width: 0; }
    }
    .night {
      position: absolute;
      left: 0;
      top: 0;
      width: 100vw;
      height: 50vh;
      z-index: 1;
      pointer-events: none;
    }
    @media (max-width: 600px) {
      .fondo-img {
        width: 100vw;
        height: 100vh;
      }
      .estrellas-superior, .night, .shooting-stars {
        width: 100vw;
        height: 50vh;
      }
    }
    @media (min-width: 1200px) {
      .fondo-img {
        width: 100vw;
        height: 100vh;
      }
      .estrellas-superior, .night, .shooting-stars {
        width: 100vw;
        height: 50vh;
      }
    }
  </style>
  <meta charset="UTF-8">
  <title>Acep</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Comic Sans MS';
      background-color: #fefefe;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    
    .portada {
  width: 260px;
  height: 390px;
      background: repeating-linear-gradient(
        0deg,
        #800080,
        #C7B8EA 30px,
        #800080 30px,
        #C7B8EA 60px
      );
      border: 10px solid #C7B8EA;
      border-left: 60px solid #800080;
      border-radius: 20px;
      position: relative;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      padding: 20px;
      cursor: pointer;
    }

    .titulo {
      font-size: 2.5em;
      color: #000000;
      font-weight: bold;
      text-align: center;
      letter-spacing: 4px;
      margin-top: 10px;
    }

    .titulo span {
      display: inline-block;
      background-color: #C7B8EA;
      border-radius: 10px;
      padding: 5px 10px;
      margin: 0 3px;
      transform: rotate(-5deg);
    }

    .imagen {
      width: 100px;
      margin: 15px auto;
      display: block;
    }

    .etiqueta {
      width: 80%;
      height: 50px;
      margin: 20px auto;
      border: 2px solid pink;
      border-radius: 10px;
      background-color: white;
      line-height: 50px;
      font-size: 1.1em;
      color: #000000;
      text-align: center;
    }

    .decoracion {
      position: absolute;
      font-size: 2em;
    }

    .corazon {
      color: #FFD700;
    }

    .estrella {
      color: #aeefff;
    }

    .inferior {
      position: absolute;
      bottom: 20px;
      right: 30px;
      font-size: 0.9em;
      color: #000000;
    }

  
    #paginaInterior {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: #ffffff;
      z-index: 10;
      display: none;
      justify-content: center;
      align-items: center;
    }

    .cuaderno-abierto {
      display: flex;
      width: 520px;
      height: 390px;
      box-shadow: 0px 20px 30px rgba(0,0,0,0.2);
      border-radius: 10px;
      overflow: hidden;
      position: relative;
    }

    .hoja {
  width: 260px;
  height: 390px;
      background: repeating-linear-gradient(
        to bottom,
        #fff,
        #fff 25px,
        #ffc0cb4d 25px,
        #ffc0cb4d 26px
      );
      border-left: 8px solid #C7B8EA;
      border-right: 8px solid #C7B8EA;
      padding: 30px;
      font-size: 1em;
      color: #555;
      overflow: hidden;
        position: relative;
    }

      /* Franja negra central detallada */
      .franja-central {
        position: absolute;
        left: 50%;
        top: 0;
        transform: translateX(-50%);
        width: 22px;
        height: 100%;
        background: linear-gradient(90deg, #222 60%, #444 100%);
        box-shadow: 0 0 8px 2px #000a, inset 0 0 6px 2px #333a;
        border-radius: 8px;
        z-index: 5;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      .franja-central::before {
        content: '';
        display: block;
        width: 80%;
        height: 6px;
        background: radial-gradient(circle, #666 60%, transparent 100%);
        border-radius: 3px;
        margin: 6px auto 0 auto;
        opacity: 0.5;
      }
      .franja-central::after {
        content: '';
        display: block;
        width: 80%;
        height: 6px;
        background: radial-gradient(circle, #666 60%, transparent 100%);
        border-radius: 3px;
        margin: 0 auto 6px auto;
        opacity: 0.5;
      }

    .hoja h2 {
      color: #800080;
      text-align: center;
      margin-bottom: 10px;
    }

    .cerrar {
      position: absolute;
      top: 20px;
      right: 30px;
      background-color: white;
      color: #800080;
      border: 2px solid pink;
      border-radius: 10px;
      padding: 8px 16px;
      font-size: 1em;
      cursor: pointer;
      z-index: 20;
    }

    @media (max-width: 850px) {
      .cuaderno-abierto {
        flex-direction: row;
        width: 98vw;
        max-width: 98vw;
        height: auto;
        min-width: 220px;
        min-height: 220px;
        box-sizing: border-box;
        justify-content: center;
        align-items: center;
      }
      .hoja {
        width: 48vw;
        max-width: 98vw;
        min-width: 120px;
        height: 320px;
        max-height: 600px;
        padding: 10px;
        font-size: 0.95em;
        box-sizing: border-box;
        margin: 0 2vw;
        overflow: hidden;
      }
      .imagen {
        width: 70px;
        max-width: 90vw;
      }
      .titulo {
        font-size: 1.5em;
      }
      .etiqueta {
        font-size: 1em;
        height: 40px;
        line-height: 40px;
      }
      .cerrar {
        top: 10px;
        right: 10px;
        font-size: 0.9em;
        padding: 6px 12px;
      }
    }
  </style>
</head>
<body>
  <!-- Modal para animación Three.js -->
  <div id="modal-three" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:100;background:rgba(0,0,0,0.7);align-items:center;justify-content:center;"></div>
  <img class="fondo-img" src="https://i.pinimg.com/736x/7d/57/81/7d5781cac91ef5c1a78a1d07252dac6c.jpg" alt="Fondo imagen" />
  <div class="estrellas-superior" style="z-index:0;">
    <div class="night"></div>
    <div class="shooting-stars">
      <div class="shooting-star"></div>
      <div class="shooting-star"></div>
      <div class="shooting-star"></div>
      <div class="shooting-star"></div>
      <div class="shooting-star"></div>
      <div class="shooting-star"></div>
      <div class="shooting-star"></div>
      <div class="shooting-star"></div>
      <div class="shooting-star"></div>
      <div class="shooting-star"></div>
      <div class="shooting-star"></div>
      <div class="shooting-star"></div>
      <div class="shooting-star"></div>
      <div class="shooting-star"></div>
      <div class="shooting-star"></div>
      <div class="shooting-star"></div>
    </div>
    <div class="estrellas-estaticas">
      <div class="star-static s1"></div>
      <div class="star-static s2"></div>
      <div class="star-static s3"></div>
      <div class="star-static s4"></div>
      <div class="star-static s5"></div>
      <div class="star-static s6"></div>
      <div class="star-static s7"></div>
      <div class="star-static s8"></div>
      <div class="star-static s9"></div>
      <div class="star-static s10"></div>
      <div class="star-static s11"></div>
      <div class="star-static s12"></div>
      <div class="star-static s13"></div>
      <div class="star-static s14"></div>
      <div class="star-static s15"></div>
      <div class="star-static s16"></div>
      <div class="star-static s17"></div>
      <div class="star-static s18"></div>
      <div class="star-static s19"></div>
      <div class="star-static s20"></div>
    </div>
  </div>

  <div class="portada" id="portada" onclick="abrirCuaderno()">
    <div class="titulo" style="font-family: 'Pacifico', cursive; font-size: 2.7em; color: #fff; text-shadow: 0 2px 8px #800080, 0 0px 30px #C7B8EA; letter-spacing: 6px; margin-top: 60px; margin-bottom: 0;">
      <span style="background: linear-gradient(90deg,#C7B8EA 60%,#800080 100%); border-radius: 12px; padding: 8px 22px; color: #800080; box-shadow: 0 2px 12px #C7B8EA; font-weight: bold; font-size: 1em; margin-right: 8px;">Estrellas</span>
      <span style="background: linear-gradient(90deg,#800080 60%,#C7B8EA 100%); border-radius: 12px; padding: 8px 22px; color: #fff; box-shadow: 0 2px 12px #800080; font-weight: bold; font-size: 1em; margin-left: 8px;">eternas</span>
    </div>
  </div>

  <!-- Modal para el contenido de la libreta -->
  <div id="modal-libro" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:50;background:transparent;align-items:center;justify-content:center;">
    <button class="cerrar" onclick="cerrarCuaderno()">✿ Cerrar</button>
    <div class="cuaderno-abierto" id="cuaderno-abierto">
      <!-- Las páginas se generarán dinámicamente aquí -->
    </div>
  </div>

  <script>
    // --- CONTENIDO DE LA LIBRETA ---
    const contenidoPaginas = [
      'Al mirar al espejo, los pensamientos reflejan lo bella que eres, al creer que eres real pierdo el poder crear, pienso si puedo indagar en aquello que una vez pude pensar',
      'eres lo que mas anelo en mi vida'
    ];

    // --- PAGINACIÓN DINÁMICA ---
    let paginas = [];
    let paginaActual = 0;

    function crearPaginas() {
      // Si el contenido de una página es muy largo, lo divide en varias páginas
      const maxChars = 900; // Ajusta según el tamaño visual
      paginas = [];
      for (let i = 0; i < contenidoPaginas.length; i++) {
        let contenido = contenidoPaginas[i];
        if (contenido.length > maxChars) {
          let partes = [];
          let temp = contenido;
          while (temp.length > maxChars) {
            let corte = temp.lastIndexOf('</p>', maxChars);
            if (corte === -1) corte = maxChars;
            partes.push(temp.slice(0, corte+4));
            temp = temp.slice(corte+4);
          }
          if (temp.length > 0) partes.push(temp);
          paginas.push(...partes);
        } else {
          paginas.push(contenido);
        }
      }
    }

    function mostrarPagina(idx) {
      const cuaderno = document.getElementById('cuaderno-abierto');
      cuaderno.innerHTML = '';
      // Mostrar dos páginas lado a lado
      let hoja1 = document.createElement('div');
      hoja1.className = 'hoja';
      hoja1.innerHTML = `<div style="display:flex;justify-content:center;align-items:center;height:100%;text-align:center;">${paginas[idx] || ''}</div>`;
      hoja1.style.cursor = (idx > 0) ? 'pointer' : 'default';
      hoja1.onclick = function(e) {
        e.stopPropagation();
        if (idx > 0) {
          animarCambioPagina(function() {
            paginaActual -= 2;
            mostrarPagina(paginaActual);
          });
        }
      };
      cuaderno.appendChild(hoja1);
      let hoja2 = document.createElement('div');
      hoja2.className = 'hoja';
      // Si el texto es "Te amo", lo estiliza
      if ((paginas[idx+1] || '').trim().toLowerCase() === 'te amo') {
        hoja2.innerHTML = `<div style="display:flex;justify-content:center;align-items:center;height:100%;"><span style='color:#d60000;font-size:2.6em;font-weight:bold;text-align:center;width:100%;'>Te amo</span></div>`;
      } else {
        hoja2.innerHTML = `<div style="display:flex;justify-content:center;align-items:center;height:100%;text-align:center;">${paginas[idx+1] || ''}</div>`;
      }
      hoja2.style.cursor = (idx+2 < paginas.length) ? 'pointer' : 'default';
      hoja2.onclick = function(e) {
        e.stopPropagation();
        if (idx+2 < paginas.length) {
          animarCambioPagina(function() {
            paginaActual += 2;
            mostrarPagina(paginaActual);
          });
        }
      };
      cuaderno.appendChild(hoja2);
      // Franja negra central
      let franja = document.createElement('div');
      franja.className = 'franja-central';
      cuaderno.appendChild(franja);
    }

    document.getElementById('btn-prev').onclick = function() {
      if (paginaActual > 0) {
        animarCambioPagina(function() {
          paginaActual -= 2;
          mostrarPagina(paginaActual);
        });
      }
    };
    document.getElementById('btn-next').onclick = function() {
      if (paginaActual+2 < paginas.length) {
        animarCambioPagina(function() {
          paginaActual += 2;
          mostrarPagina(paginaActual);
        });
      }
    };

    // --- ANIMACIÓN THREE.JS PARA CAMBIO DE PÁGINA ---
    function animarCambioPagina(callback) {
      const modal = document.getElementById('modal-three');
      modal.style.display = 'flex';
      modal.innerHTML = '';
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
      camera.position.set(0, 0, 8);
      const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setClearColor(0x000000, 0);
      modal.appendChild(renderer.domElement);
      // Luz
      const ambient = new THREE.AmbientLight(0xffffff, 0.8);
      scene.add(ambient);
      const dirLight = new THREE.DirectionalLight(0xffffff, 0.8);
      dirLight.position.set(2, 4, 5);
      scene.add(dirLight);
      // Materiales
  const materialCover = new THREE.MeshPhongMaterial({ color: 0xff69b4, shininess: 60 }); // rosa
  const materialPages = new THREE.MeshPhongMaterial({ color: 0xfbe9e7, shininess: 80 });
      // Tapas
      const coverLeft = new THREE.Mesh(new THREE.BoxGeometry(0.2, 2, 3), materialCover);
      coverLeft.position.x = -0.1;
      coverLeft.rotation.y = -Math.PI/2;
      const coverRight = new THREE.Mesh(new THREE.BoxGeometry(0.2, 2, 3), materialCover);
      coverRight.position.x = 0.1;
      coverRight.rotation.y = Math.PI/2;
      // Páginas
      const page = new THREE.Mesh(new THREE.BoxGeometry(0.15, 1.95, 2.95), materialPages);
      page.position.x = 0;
      scene.add(page);
      scene.add(coverLeft);
      scene.add(coverRight);
      // Animación de pasar página
      let frame = 0;
      function animate() {
        frame++;
        if(frame < 40) {
          page.rotation.y = Math.PI * (frame/40);
        }
        renderer.render(scene, camera);
        if(frame < 45) {
          requestAnimationFrame(animate);
        } else {
          setTimeout(() => {
            modal.style.display = 'none';
            modal.innerHTML = '';
            if(callback) callback();
          }, 400);
        }
      }
      animate();
      window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth/window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });
    }

    // Animación inicial de abrir libro
    function mostrarAnimacionThree(callback) {
      const modal = document.getElementById('modal-three');
      modal.style.display = 'flex';
      modal.innerHTML = '';
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
      camera.position.set(0, 0, 8);
      const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setClearColor(0x000000, 0);
      modal.appendChild(renderer.domElement);
      // Luz
      const ambient = new THREE.AmbientLight(0xffffff, 0.8);
      scene.add(ambient);
      const dirLight = new THREE.DirectionalLight(0xffffff, 0.8);
      dirLight.position.set(2, 4, 5);
      scene.add(dirLight);
      // Materiales
  const materialCover = new THREE.MeshPhongMaterial({ color: 0xff69b4, shininess: 60 }); // rosa
  const materialPages = new THREE.MeshPhongMaterial({ color: 0xfbe9e7, shininess: 80 });
      // Tapas
      const coverLeft = new THREE.Mesh(new THREE.BoxGeometry(0.2, 2, 3), materialCover);
      coverLeft.position.x = -0.1;
      coverLeft.rotation.y = 0;
      const coverRight = new THREE.Mesh(new THREE.BoxGeometry(0.2, 2, 3), materialCover);
      coverRight.position.x = 0.1;
      coverRight.rotation.y = 0;
      // Páginas
      const page = new THREE.Mesh(new THREE.BoxGeometry(0.15, 1.95, 2.95), materialPages);
      page.position.x = 0;
      scene.add(page);
      scene.add(coverLeft);
      scene.add(coverRight);
      // Animación de abrir libro
      let frame = 0;
      function animate() {
        frame++;
        if(frame < 60) {
          coverLeft.rotation.y = Math.max(-Math.PI/2 * (frame/60), -Math.PI/2);
          coverRight.rotation.y = Math.min(Math.PI/2 * (frame/60), Math.PI/2);
        }
        renderer.render(scene, camera);
        if(frame < 70) {
          requestAnimationFrame(animate);
        } else {
          setTimeout(() => {
            modal.style.display = 'none';
            modal.innerHTML = '';
            if(callback) callback();
          }, 600);
        }
      }
      animate();
      window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth/window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });
    }

    function abrirCuaderno() {
      document.getElementById('portada').style.display = 'none';
      mostrarAnimacionThree(function() {
        document.getElementById('modal-libro').style.display = 'flex';
        crearPaginas();
        paginaActual = 0;
        mostrarPagina(paginaActual);
      });
    }

    function cerrarCuaderno() {
      document.getElementById('modal-libro').style.display = 'none';
      document.getElementById('portada').style.display = 'block';
    }
  </script>

</body>
</html>